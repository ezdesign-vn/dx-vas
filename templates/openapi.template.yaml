# =================================================================================================
# üìò OpenAPI Specification TEMPLATE - Ti√™u Chu·∫©n 5‚òÖ To√†n Di·ªán cho Service DX-VAS
# =================================================================================================
# Phi√™n b·∫£n Template: 2.0
# D·ª±a tr√™n: openapi.yaml (Master v1.2.0)
#
# L·ªúI M·ªû ƒê·∫¶U T·ª™ BILL (CTO):
#   Ch√†o c√°c b·∫°n, ƒë√¢y l√† template ƒë∆∞·ª£c ch·∫Øt l·ªçc t·ª´ nh·ªØng th·ª±c h√†nh t·ªët nh·∫•t v√† c√°c ti√™u chu·∫©n
#   ƒë√£ ƒë∆∞·ª£c th·ªëng nh·∫•t cho d·ª± √°n dx-vas. M·ª•c ti√™u c·ªßa template n√†y l√† gi√∫p c√°c b·∫°n:
#     1. T·∫°o ra c√°c ƒë·∫∑c t·∫£ API nh·∫•t qu√°n, r√µ r√†ng, v√† ƒë·∫ßy ƒë·ªß.
#     2. ƒê·∫£m b·∫£o tu√¢n th·ªß c√°c ADRs quan tr·ªçng c·ªßa h·ªá th·ªëng.
#     3. Gi·∫£m thi·ªÉu th·ªùi gian t√¨m hi·ªÉu v√† tƒÉng t·ªëc ƒë·ªô ph√°t tri·ªÉn.
#     4. T·∫°o ƒëi·ªÅu ki·ªán thu·∫≠n l·ª£i cho vi·ªác t·ª± ƒë·ªông h√≥a (sinh code, t√†i li·ªáu, ki·ªÉm th·ª≠).
#
# H∆Ø·ªöNG D·∫™N S·ª¨ D·ª§NG CHUNG:
#   - Sao ch√©p file n√†y v√† ƒë·ªïi t√™n th√†nh openapi.yaml cho service m·ªõi c·ªßa b·∫°n.
#   - T√¨m v√† thay th·∫ø t·∫•t c·∫£ c√°c placeholder c√≥ d·∫°ng "[PLACEHOLDER_...]"
#     ho·∫∑c l√†m theo c√°c h∆∞·ªõng d·∫´n trong comment "TODO: ..."
#   - H√£y ƒë·ªçc k·ªπ c√°c l√Ω gi·∫£i v√† h∆∞·ªõng d·∫´n ƒëi k√®m ƒë·ªÉ hi·ªÉu r√µ m·ª•c ƒë√≠ch c·ªßa t·ª´ng ph·∫ßn.
#   - X√≥a c√°c comment h∆∞·ªõng d·∫´n kh√¥ng c·∫ßn thi·∫øt sau khi ƒë√£ ho√†n thi·ªán file c·ªßa b·∫°n.
#   - Lu√¥n nh·ªõ r·∫±ng, m·ªôt ƒë·∫∑c t·∫£ API t·ªët l√† n·ªÅn t·∫£ng cho m·ªôt service t·ªët!
# =================================================================================================

openapi: 3.0.3
# L√ù GI·∫¢I:
#   - `openapi: 3.0.3` l√† phi√™n b·∫£n c·ªßa OpenAPI Specification m√† ch√∫ng ta ƒëang s·ª≠ d·ª•ng.
#     Vi·ªác th·ªëng nh·∫•t phi√™n b·∫£n gi√∫p ƒë·∫£m b·∫£o t√≠nh t∆∞∆°ng th√≠ch c·ªßa c√°c c√¥ng c·ª• (linters, code generators, UI renderers).
#   - Khuy·∫øn kh√≠ch gi·ªØ nguy√™n phi√™n b·∫£n n√†y tr·ª´ khi c√≥ quy·∫øt ƒë·ªãnh thay ƒë·ªïi tr√™n to√†n h·ªá th·ªëng.

info:
  # L√ù GI·∫¢I:
  #   Kh·ªëi `info` cung c·∫•p metadata t·ªïng quan v·ªÅ API c·ªßa b·∫°n.
  #   ƒê√¢y l√† th√¥ng tin quan tr·ªçng gi√∫p ng∆∞·ªùi ƒë·ªçc hi·ªÉu v·ªÅ API ngay t·ª´ c√°i nh√¨n ƒë·∫ßu ti√™n.
  title: "[SERVICE_NAME] ‚Äì API Spec" # TODO: Thay [SERVICE_NAME] b·∫±ng t√™n service c·ª• th·ªÉ. V√≠ d·ª•: "Order Service ‚Äì API Spec", "Notification Service Sub ‚Äì API Spec".
  version: "1.0.0" # TODO: ƒê√¢y l√† phi√™n b·∫£n SEMANTIC VERSIONING (Major.Minor.Patch) c·ªßa ch√≠nh API service n√†y, KH√îNG ph·∫£i phi√™n b·∫£n c·ªßa file OpenAPI. B·∫Øt ƒë·∫ßu v·ªõi 1.0.0 cho b·∫£n public ƒë·∫ßu ti√™n, ho·∫∑c 0.1.0 cho b·∫£n beta/internal.
  description: |
    # TODO: Cung c·∫•p m·ªôt m√¥ t·∫£ chi ti·∫øt, s√∫c t√≠ch v√† h·ªØu √≠ch v·ªÅ service v√† c√°c API c·ªßa n√≥.
    #   - M·ª•c ƒë√≠ch ch√≠nh c·ªßa service n√†y l√† g√¨? N√≥ gi·∫£i quy·∫øt b√†i to√°n n√†o?
    #   - C√°c nh√≥m ch·ª©c nƒÉng ch√≠nh m√† API cung c·∫•p.
    #   - Nh·∫•n m·∫°nh c√°c nguy√™n t·∫Øc thi·∫øt k·∫ø ch√≠nh m√† service n√†y tu√¢n th·ªß (v√≠ d·ª•: read-only, event-driven, stateless).
    #   - R·∫•t quan tr·ªçng: Lu√¥n tham chi·∫øu ƒë·∫øn c√°c ADRs c·ªßa h·ªá th·ªëng dx-vas m√† service n√†y tu√¢n th·ªß.
    #     ƒêi·ªÅu n√†y gi√∫p ƒë·∫£m b·∫£o t√≠nh nh·∫•t qu√°n v√† d·ªÖ d√†ng tra c·ª©u c√°c quy·∫øt ƒë·ªãnh ki·∫øn tr√∫c li√™n quan.
    #   - Cung c·∫•p link ƒë·∫øn c√°c t√†i li·ªáu thi·∫øt k·∫ø chi ti·∫øt kh√°c (design.md, interface-contract.md, data-model.md)
    #     ƒë·ªÉ ng∆∞·ªùi ƒë·ªçc c√≥ th·ªÉ t√¨m hi·ªÉu s√¢u h∆°n.

    # V√≠ d·ª•:
    API cho `[SERVICE_NAME]`, ph·ª•c v·ª• [m√¥ t·∫£ ch·ª©c nƒÉng ch√≠nh, v√≠ d·ª•: qu·∫£n l√Ω ƒë∆°n h√†ng v√† tr·∫°ng th√°i giao h√†ng].
    T√†i li·ªáu n√†y tu√¢n th·ªß [ADR-012 - Response Structure]([LINK_TO_ADR_012]),
    [ADR-011 - API Error Format]([LINK_TO_ADR_011]),
    v√† c√°c ti√™u chu·∫©n 5‚òÖ cho OpenAPI.
    - üìÑ Xem th√™m: [design.md](../design.md), [interface-contract.md](../interface-contract.md), [data-model.md](../data-model.md)
  contact:
    # L√ù GI·∫¢I: Th√¥ng tin li√™n h·ªá gi√∫p ng∆∞·ªùi d√πng API bi·∫øt c·∫ßn h·ªèi ai khi c√≥ v·∫•n ƒë·ªÅ ho·∫∑c c·∫ßn h·ªó tr·ª£.
    name: "[YOUR_TEAM_NAME_OR_CONTACT_PERSON]" # TODO: T√™n ƒë·ªôi ng≈© ph√°t tri·ªÉn/ch·ªß s·ªü h·ªØu API ho·∫∑c ng∆∞·ªùi li√™n h·ªá ch√≠nh.
    email: "[your_team_email@example.com]" # TODO: Email li√™n h·ªá c·ªßa ƒë·ªôi ng≈©.

  # --- Custom Extensions (x-prefixed) for API Governance & Metadata ---
  # L√ù GI·∫¢I:
  #   C√°c custom extension (ti·ªÅn t·ªë `x-`) r·∫•t h·ªØu √≠ch ƒë·ªÉ b·ªï sung metadata kh√¥ng ƒë∆∞·ª£c chu·∫©n OpenAPI ƒë·ªãnh nghƒ©a s·∫µn.
  #   Ch√∫ng gi√∫p cho vi·ªác qu·∫£n tr·ªã API, theo d√µi tu√¢n th·ªß, v√† t·ª± ƒë·ªông h√≥a tr·ªü n√™n d·ªÖ d√†ng h∆°n.
  x-api-version: "v1" # TODO: Phi√™n b·∫£n nghi·ªáp v·ª• c·ªßa API (kh√°c v·ªõi info.version). V√≠ d·ª•: v1, v2. Th∆∞·ªùng d√πng cho versioning API qua URL.
  x-last-updated: "YYYY-MM-DD" # TODO: Ng√†y c·∫≠p nh·∫≠t cu·ªëi c√πng c·ªßa file spec n√†y. Gi√∫p theo d√µi l·ªãch s·ª≠ thay ƒë·ªïi.
  x-author: "[Your Name/Team]" # TODO: T√°c gi·∫£ c·ªßa file spec n√†y.
  x-reviewed-by: "[Reviewer Name/Team]" # TODO: Ng∆∞·ªùi ho·∫∑c ƒë·ªôi ng≈© ƒë√£ review file spec n√†y.
  x-maintainer: "[maintainer_email@example.com]" # TODO: Email c·ªßa ng∆∞·ªùi ho·∫∑c ƒë·ªôi ng≈© ch·ªãu tr√°ch nhi·ªám b·∫£o tr√¨ API n√†y.
  x-purpose: | # TODO: M√¥ t·∫£ m·ª•c ƒë√≠ch ch√≠nh c·ªßa API n√†y m·ªôt c√°ch ng·∫Øn g·ªçn (1-2 d√≤ng).
    Cung c·∫•p c√°c API ƒë·ªÉ [m√¥ t·∫£ m·ª•c ƒë√≠ch ch√≠nh, v√≠ d·ª•: qu·∫£n l√Ω v√≤ng ƒë·ªùi ƒë∆°n h√†ng t·ª´ l√∫c t·∫°o ƒë·∫øn khi ho√†n th√†nh].
  x-adr-compliance: # TODO: Li·ªát k√™ c√°c m√£ ADRs ch√≠nh m√† API n√†y tu√¢n th·ªß. ƒêi·ªÅu n√†y r·∫•t quan tr·ªçng cho vi·ªác ki·ªÉm tra v√† ƒë·∫£m b·∫£o ch·∫•t l∆∞·ª£ng ki·∫øn tr√∫c.
    - adr-009-api-governance # V√≠ d·ª•
    - adr-011-api-error-format
    - adr-012-response-structure
    - adr-013-path-naming-convention
    # - adr-xxx (c√°c ADR kh√°c li√™n quan tr·ª±c ti·∫øp ƒë·∫øn service n√†y)

externalDocs:
  # L√ù GI·∫¢I: N·∫øu c√≥ t√†i li·ªáu b√™n ngo√†i (wiki, GitHub pages, Confluence) m√¥ t·∫£ chi ti·∫øt h∆°n v·ªÅ service,
  # c√°c lu·ªìng nghi·ªáp v·ª•, ho·∫∑c h∆∞·ªõng d·∫´n s·ª≠ d·ª•ng API, h√£y li√™n k·∫øt ·ªü ƒë√¢y.
  description: "[DESCRIPTION_OF_EXTERNAL_DOCS]" # TODO: M√¥ t·∫£ ng·∫Øn v·ªÅ t√†i li·ªáu b√™n ngo√†i.
  url: "[URL_TO_EXTERNAL_DOCS]" # TODO: URL ƒë·∫øn t√†i li·ªáu ƒë√≥.

servers:
  # L√ù GI·∫¢I:
  #   Khai b√°o URL c∆° s·ªü (base URLs) cho API c·ªßa b·∫°n ·ªü c√°c m√¥i tr∆∞·ªùng kh√°c nhau.
  #   Client s·∫Ω s·ª≠ d·ª•ng c√°c URL n√†y ƒë·ªÉ g·ª≠i request.
  #   N√™n c√≥ √≠t nh·∫•t cho Production. Staging v√† Development l√† t√πy ch·ªçn nh∆∞ng r·∫•t khuy·∫øn kh√≠ch.
  - url: "https://api.truongvietanh.edu.vn/[service-path-prod]" # TODO: Thay [service-path-prod] b·∫±ng ƒë∆∞·ªùng d·∫´n c·ª• th·ªÉ c·ªßa service tr√™n Production.
    description: Production Server
  - url: "https://staging-api.truongvietanh.edu.vn/[service-path-staging]" # TODO: Thay [service-path-staging] b·∫±ng ƒë∆∞·ªùng d·∫´n c·ª• th·ªÉ c·ªßa service tr√™n Staging.
    description: Staging Server
  # - url: "http://localhost:[YOUR_SERVICE_PORT]/[service-path-dev]" # TODO: (T√πy ch·ªçn) Cho m√¥i tr∆∞·ªùng ph√°t tri·ªÉn local.
  #   description: Local Development Environment

tags:
  # L√ù GI·∫¢I:
  #   Tags d√πng ƒë·ªÉ nh√≥m c√°c API operations (endpoints) m·ªôt c√°ch logic.
  #   M·ªói operation n√™n ƒë∆∞·ª£c g√°n √≠t nh·∫•t m·ªôt tag. ƒêi·ªÅu n√†y gi√∫p t√†i li·ªáu API (v√≠ d·ª• Swagger UI)
  #   tr·ªü n√™n d·ªÖ ƒëi·ªÅu h∆∞·ªõng v√† c√≥ t·ªï ch·ª©c h∆°n.
  # TODO: ƒê·ªãnh nghƒ©a c√°c tags ph√π h·ª£p v·ªõi c√°c nh√≥m t√†i nguy√™n ho·∫∑c ch·ª©c nƒÉng ch√≠nh c·ªßa service b·∫°n.
  - name: "[resource-group-1]" # V√≠ d·ª•: users, products, orders
    description: "M√¥ t·∫£ v·ªÅ nh√≥m API [resource-group-1]. V√≠ d·ª•: C√°c API li√™n quan ƒë·∫øn qu·∫£n l√Ω ng∆∞·ªùi d√πng."
  - name: "[resource-group-2]"
    description: "M√¥ t·∫£ v·ªÅ nh√≥m API [resource-group-2]."
  # - name: "utils" # V√≠ d·ª• tag cho c√°c API ti·ªán √≠ch, health check.
  #   description: "C√°c API ti·ªán √≠ch v√† ki·ªÉm tra tr·∫°ng th√°i h·ªá th·ªëng."

security:
  # L√ù GI·∫¢I:
  #   Khai b√°o c∆° ch·∫ø b·∫£o m·∫≠t (security scheme) ƒë∆∞·ª£c √°p d·ª•ng m·∫∑c ƒë·ªãnh cho T·∫§T C·∫¢ c√°c API trong file n√†y.
  #   N·∫øu m·ªôt API c·ª• th·ªÉ kh√¥ng c·∫ßn x√°c th·ª±c ho·∫∑c d√πng c∆° ch·∫ø kh√°c, b·∫°n c√≥ th·ªÉ override ·ªü m·ª©c operation ƒë√≥
  #   b·∫±ng c√°ch khai b√°o `security: []` (kh√¥ng c·∫ßn x√°c th·ª±c) ho·∫∑c `security: - AnotherAuth: []`.
  # TODO: Ch·ªçn v√† c·∫•u h√¨nh security scheme ph√π h·ª£p. `BearerAuth` (JWT) l√† ph·ªï bi·∫øn.
  - BearerAuth: [] # Gi·∫£ s·ª≠ BearerAuth (JWT) l√† c∆° ch·∫ø m·∫∑c ƒë·ªãnh.

components:
  # L√ù GI·∫¢I:
  #   `components` l√† n∆°i b·∫°n ƒë·ªãnh nghƒ©a c√°c ƒë·ªëi t∆∞·ª£ng c√≥ th·ªÉ t√°i s·ª≠ d·ª•ng trong to√†n b·ªô ƒë·∫∑c t·∫£ OpenAPI,
  #   bao g·ªìm: securitySchemes, parameters, headers, schemas, responses, examples, requestBodies, links, callbacks.
  #   Vi·ªác s·ª≠ d·ª•ng `components` gi√∫p ƒë·∫∑c t·∫£ c·ªßa b·∫°n ng·∫Øn g·ªçn, d·ªÖ b·∫£o tr√¨ v√† nh·∫•t qu√°n.

  securitySchemes:
    # L√ù GI·∫¢I: ƒê·ªãnh nghƒ©a c√°c c∆° ch·∫ø x√°c th·ª±c m√† API c·ªßa b·∫°n h·ªó tr·ª£.
    # TODO: ƒê·ªãnh nghƒ©a security scheme ph√π h·ª£p. `BearerAuth` cho JWT l√† m·ªôt v√≠ d·ª•.
    BearerAuth: # T√™n n√†y ("BearerAuth") s·∫Ω ƒë∆∞·ª£c tham chi·∫øu trong `security` global ho·∫∑c operation.
      type: http
      scheme: bearer # Cho bi·∫øt ƒë√¢y l√† Bearer token authentication.
      bearerFormat: JWT # Th√¥ng tin b·ªï sung cho bi·∫øt token l√† JWT.
      description: |
        X√°c th·ª±c b·∫±ng JWT Bearer token.
        Client c·∫ßn g·ª≠i header `Authorization: Bearer <your_jwt_token>`.
        Token n√†y th∆∞·ªùng ƒë∆∞·ª£c nh·∫≠n sau khi ng∆∞·ªùi d√πng ƒëƒÉng nh·∫≠p th√†nh c√¥ng qua Auth Service.

  headers:
    # L√ù GI·∫¢I: ƒê·ªãnh nghƒ©a c√°c HTTP response headers th∆∞·ªùng d√πng ƒë·ªÉ c√≥ th·ªÉ t√°i s·ª≠ d·ª•ng.
    # TODO: Th√™m c√°c response headers chu·∫©n m√† service c·ªßa b·∫°n tr·∫£ v·ªÅ.
    X-Request-ID:
      description: "ID ƒë·ªãnh danh duy nh·∫•t ƒë∆∞·ª£c g√°n cho m·ªói request, r·∫•t quan tr·ªçng cho vi·ªác tracing v√† debugging xuy√™n su·ªët c√°c service."
      required: false # M·∫∑c d√π quan tr·ªçng, nh∆∞ng c√≥ th·ªÉ kh√¥ng ph·∫£i l√∫c n√†o client c≈©ng c·∫ßn 'bi·∫øt' v·ªÅ n√≥ ƒë·ªÉ khai b√°o l√† required.
      schema:
        type: string
        format: uuid # Ho·∫∑c m·ªôt format kh√°c n·∫øu b·∫°n c√≥ quy ∆∞·ªõc ri√™ng.
      example: "req_01H8X4YJ4GVN3YX4MH6ZQ1M3Q0" # V√≠ d·ª• m·ªôt request ID.
    # X-RateLimit-Limit:
    #   description: "S·ªë l∆∞·ª£ng request t·ªëi ƒëa ƒë∆∞·ª£c ph√©p trong m·ªôt kho·∫£ng th·ªùi gian (v√≠ d·ª•: 1 ph√∫t)."
    #   schema: { type: integer }
    # X-RateLimit-Remaining:
    #   description: "S·ªë l∆∞·ª£ng request c√≤n l·∫°i client c√≥ th·ªÉ th·ª±c hi·ªán trong kho·∫£ng th·ªùi gian hi·ªán t·∫°i."
    #   schema: { type: integer }
    # X-RateLimit-Reset:
    #   description: "Th·ªùi gian (t√≠nh b·∫±ng gi√¢y) c√≤n l·∫°i cho ƒë·∫øn khi gi·ªõi h·∫°n rate limit ƒë∆∞·ª£c reset."
    #   schema: { type: integer }

  parameters:
    # L√ù GI·∫¢I: ƒê·ªãnh nghƒ©a c√°c HTTP request parameters (query, path, header, cookie) th∆∞·ªùng d√πng ƒë·ªÉ t√°i s·ª≠ d·ª•ng.
    # TODO: ƒê·ªãnh nghƒ©a c√°c parameters chu·∫©n cho service c·ªßa b·∫°n, ƒë·∫∑c bi·ªát l√† c√°c tham s·ªë cho pagination, filtering, sorting.
    AuthorizationHeader: # T√™n n√†y ƒë∆∞·ª£c d√πng ƒë·ªÉ tham chi·∫øu b·∫±ng $ref.
      name: Authorization # T√™n header th·ª±c t·∫ø m√† client g·ª≠i.
      in: header # V·ªã tr√≠ c·ªßa parameter (query, header, path, cookie).
      required: true # Parameter n√†y l√† b·∫Øt bu·ªôc.
      schema:
        type: string # Ki·ªÉu d·ªØ li·ªáu c·ªßa parameter.
      description: "Bearer JWT token (format: 'Bearer <access_token>'). Token n√†y nh·∫≠n ƒë∆∞·ª£c sau khi ng∆∞·ªùi d√πng ƒëƒÉng nh·∫≠p th√†nh c√¥ng."
      example: "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."

    PageParam: # V√≠ d·ª• cho pagination
      name: page
      in: query
      required: false # Th∆∞·ªùng th√¨ optional, c√≥ gi√° tr·ªã m·∫∑c ƒë·ªãnh.
      schema:
        type: integer
        minimum: 1 # Trang b·∫Øt ƒë·∫ßu t·ª´ 1.
        default: 1
      description: "S·ªë trang hi·ªán t·∫°i cho k·∫øt qu·∫£ ph√¢n trang (b·∫Øt ƒë·∫ßu t·ª´ 1, m·∫∑c ƒë·ªãnh l√† 1)."
      example: 1

    LimitParam: # V√≠ d·ª• cho pagination
      name: limit
      in: query
      required: false
      schema:
        type: integer
        minimum: 1
        maximum: 100 # N√™n c√≥ gi·ªõi h·∫°n maximum ƒë·ªÉ b·∫£o v·ªá h·ªá th·ªëng.
        default: 20
      description: "S·ªë l∆∞·ª£ng b·∫£n ghi t·ªëi ƒëa tr·∫£ v·ªÅ tr√™n m·ªói trang (m·∫∑c ƒë·ªãnh l√† 20, t·ªëi ƒëa 100)."
      example: 20

    SearchKeywordParam: # V√≠ d·ª• cho filtering
      name: search
      in: query
      required: false
      schema:
        type: string
        minLength: 1 # (T√πy ch·ªçn)
      description: "T·ª´ kh√≥a t√¨m ki·∫øm chung cho c√°c tr∆∞·ªùng vƒÉn b·∫£n (v√≠ d·ª•: t√™n, m√¥ t·∫£, email)."
      example: "t·ª´ kh√≥a m·∫´u"

    SortOrderParam: # V√≠ d·ª• cho sorting
      name: sort_order
      in: query
      required: false
      schema:
        $ref: '#/components/schemas/SortOrderEnum' # Tham chi·∫øu ƒë·∫øn ENUM ƒë√£ ƒë·ªãnh nghƒ©a.
        default: "desc" # (T√πy ch·ªçn) Gi√° tr·ªã m·∫∑c ƒë·ªãnh.
      description: "Th·ª© t·ª± s·∫Øp x·∫øp (tƒÉng ho·∫∑c gi·∫£m d·∫ßn). M·∫∑c ƒë·ªãnh l√† 'desc' (m·ªõi nh·∫•t tr∆∞·ªõc)."

    # TODO: ƒê·ªãnh nghƒ©a c√°c SortByEnum c·ª• th·ªÉ cho t·ª´ng lo·∫°i t√†i nguy√™n c√≥ th·ªÉ s·∫Øp x·∫øp.
    # V√≠ d·ª•:
    # MyResourceSortByParam:
    #   name: sort_by
    #   in: query
    #   required: false
    #   schema:
    #     $ref: '#/components/schemas/MyResourceSortByEnum' # Tham chi·∫øu ƒë·∫øn ENUM sort_by cho MyResource.
    #     default: "created_at" # (T√πy ch·ªçn) Tr∆∞·ªùng s·∫Øp x·∫øp m·∫∑c ƒë·ªãnh.
    #   description: "Tr∆∞·ªùng d·ªØ li·ªáu d√πng ƒë·ªÉ s·∫Øp x·∫øp danh s√°ch [MyResource]."

  schemas:
    # L√ù GI·∫¢I:
    #   ƒê√¢y l√† n∆°i b·∫°n ƒë·ªãnh nghƒ©a t·∫•t c·∫£ c√°c c·∫•u tr√∫c d·ªØ li·ªáu (schemas) ƒë∆∞·ª£c s·ª≠ d·ª•ng trong API
    #   (cho request bodies, response bodies, parameters).
    #   Vi·ªác ƒë·ªãnh nghƒ©a t·∫≠p trung gi√∫p t√°i s·ª≠ d·ª•ng, nh·∫•t qu√°n v√† d·ªÖ qu·∫£n l√Ω.

    # === Generic Schemas - C√°c schema n√†y n√™n ƒë∆∞·ª£c chu·∫©n h√≥a v√† t√°i s·ª≠ d·ª•ng tr√™n to√†n h·ªá th·ªëng dx-vas ===
    ResponseMeta:
      type: object
      required: # C√°c tr∆∞·ªùng lu√¥n ph·∫£i c√≥ trong metadata.
        - request_id
        - timestamp
      properties:
        request_id:
          type: string
          format: uuid # Ho·∫∑c m·ªôt ƒë·ªãnh d·∫°ng ID chu·∫©n kh√°c.
          description: "M√£ ƒë·ªãnh danh duy nh·∫•t c·ªßa request, gi√∫p li√™n k·∫øt log v√† trace xuy√™n su·ªët c√°c service."
          example: "7e8f7f34-b12a-4d8c-b32f-6db7d326f7d2"
        timestamp:
          type: string
          format: date-time # Chu·∫©n ISO 8601 (v√≠ d·ª•: 2025-06-02T14:30:00Z).
          description: "Th·ªùi gian (UTC) server x·ª≠ l√Ω v√† tr·∫£ v·ªÅ response."
          example: "2025-06-02T14:30:00Z"
        # --- C√°c tr∆∞·ªùng sau d√πng cho pagination, ch·ªâ xu·∫•t hi·ªán khi API tr·∫£ v·ªÅ danh s√°ch ---
        page:
          type: integer
          nullable: true # Cho ph√©p null n·∫øu API kh√¥ng ph√¢n trang ho·∫∑c ƒë√¢y l√† trang cu·ªëi c√πng kh√¥ng c√≥ d·ªØ li·ªáu.
          description: "S·ªë trang hi·ªán t·∫°i c·ªßa k·∫øt qu·∫£ (n·∫øu c√≥ ph√¢n trang v√† `total_items` > 0)."
          example: 1
        per_page:
          type: integer
          nullable: true
          description: "S·ªë l∆∞·ª£ng b·∫£n ghi tr√™n m·ªói trang (n·∫øu c√≥ ph√¢n trang)."
          example: 20
        total_items: # S·ª≠ d·ª•ng total_items ƒë·ªÉ r√µ r√†ng h∆°n l√† t·ªïng s·ªë b·∫£n ghi kh·ªõp.
          type: integer
          nullable: true
          description: "T·ªïng s·ªë b·∫£n ghi kh·ªõp v·ªõi truy v·∫•n (n·∫øu c√≥ ph√¢n trang)."
          example: 125
        total_pages: # Tr∆∞·ªùng t√≠nh to√°n, r·∫•t h·ªØu √≠ch cho client x√¢y d·ª±ng UI ph√¢n trang.
          type: integer
          nullable: true
          description: "T·ªïng s·ªë trang d·ª±a tr√™n `total_items` v√† `per_page` (n·∫øu c√≥ ph√¢n trang)."
          example: 7
      description: "Metadata chung cho m·ªçi API response, tu√¢n th·ªß ADR-012. Bao g·ªìm th√¥ng tin v·ªÅ request v√† pagination (n·∫øu c√≥)."

    ErrorEnvelope: # C·∫•u tr√∫c bao ngo√†i cho l·ªói, tu√¢n th·ªß ADR-012.
      type: object
      required: # `meta` v√† `error` l√† b·∫Øt bu·ªôc khi c√≥ l·ªói.
        - meta
        - error
      properties:
        meta:
          $ref: '#/components/schemas/ResponseMeta' # Lu√¥n c√≥ meta, k·ªÉ c·∫£ khi l·ªói.
        error:
          $ref: '#/components/schemas/ErrorResponse' # Chi ti·∫øt l·ªói.
        data: # Theo ADR-012, khi c√≥ l·ªói th√¨ data th∆∞·ªùng l√† null.
          type: object
          nullable: true
          description: "Th∆∞·ªùng l√† null khi c√≥ l·ªói."
          example: null
      description: "C·∫•u tr√∫c chu·∫©n cho response l·ªói, bao g·ªìm metadata v√† chi ti·∫øt l·ªói. Tr∆∞·ªùng `data` th∆∞·ªùng l√† `null`."
      example:
        meta:
          request_id: "req-err-123"
          timestamp: "2025-06-02T14:35:00Z"
        error:
          code: "VALIDATION_ERROR"
          message: "D·ªØ li·ªáu ƒë·∫ßu v√†o kh√¥ng h·ª£p l·ªá."
          details: [{ "field": "email", "issue": "ƒê·ªãa ch·ªâ email kh√¥ng ƒë√∫ng ƒë·ªãnh d·∫°ng." }]
        data: null

    ErrorResponse: # Chi ti·∫øt l·ªói, tu√¢n th·ªß ADR-011.
      type: object
      required: # `code` v√† `message` l√† b·∫Øt bu·ªôc cho m·ªôt l·ªói.
        - code
        - message
      properties:
        code:
          type: string
          description: "M√£ l·ªói ·ª©ng d·ª•ng (application-specific error code). Gi√∫p client x·ª≠ l√Ω l·ªói m·ªôt c√°ch l·∫≠p tr√¨nh. N√™n s·ª≠ d·ª•ng c√°c m√£ l·ªói ƒë√£ ƒë∆∞·ª£c chu·∫©n h√≥a trong h·ªá th·ªëng."
          example: "RESOURCE_NOT_FOUND" # V√≠ d·ª•: USER_NOT_FOUND, INVALID_INPUT, FORBIDDEN_ACCESS.
        message:
          type: string
          description: "M√¥ t·∫£ l·ªói th√¢n thi·ªán v·ªõi ng∆∞·ªùi d√πng ho·∫∑c developer. C√≥ th·ªÉ ƒë∆∞·ª£c hi·ªÉn th·ªã tr√™n UI ho·∫∑c ghi v√†o log chi ti·∫øt."
          example: "Kh√¥ng t√¨m th·∫•y t√†i nguy√™n ƒë∆∞·ª£c y√™u c·∫ßu."
        details:
          # L√ù GI·∫¢I: 'details' l√† t√πy ch·ªçn, d√πng ƒë·ªÉ cung c·∫•p th√¥ng tin c·ª• th·ªÉ h∆°n v·ªÅ l·ªói.
          #   C√≥ th·ªÉ l√† m·ªôt object v·ªõi c√°c tr∆∞·ªùng t√πy √Ω, ho·∫∑c m·ªôt m·∫£ng c√°c object (v√≠ d·ª• cho l·ªói validation nhi·ªÅu tr∆∞·ªùng).
          #   N√™n th·ªëng nh·∫•t c·∫•u tr√∫c c·ªßa 'details' n·∫øu c√≥ th·ªÉ.
          type: object # Ho·∫∑c `type: array` v·ªõi `items: type: object`
          nullable: true
          description: "Th√¥ng tin chi ti·∫øt b·ªï sung v·ªÅ l·ªói, v√≠ d·ª•: tr∆∞·ªùng n√†o b·ªã l·ªói validation, gi√° tr·ªã kh√¥ng h·ª£p l·ªá l√† g√¨. (T√πy ch·ªçn)"
          example: { "resource_id": "some-id-123", "reason": "Kh√¥ng t√¨m th·∫•y trong c∆° s·ªü d·ªØ li·ªáu." }
          # V√≠ d·ª• kh√°c cho validation error (array of objects):
          # example:
          #   - field: "email"
          #     issue: "ƒê·ªãa ch·ªâ email kh√¥ng ƒë√∫ng ƒë·ªãnh d·∫°ng."
          #     value: "invalid-email"
          #   - field: "age"
          #     issue: "Tu·ªïi ph·∫£i l√† s·ªë d∆∞∆°ng."
          #     value: -5
      description: "C·∫•u tr√∫c chi ti·∫øt c·ªßa m·ªôt l·ªói ·ª©ng d·ª•ng, bao g·ªìm m√£ l·ªói, th√¥ng ƒëi·ªáp v√† c√°c chi ti·∫øt b·ªï sung (n·∫øu c√≥)."

    # --- ENUM Schemas - ƒê·ªãnh nghƒ©a c√°c ENUM d√πng chung cho service n√†y ---
    # L√ù GI·∫¢I: ƒê·ªãnh nghƒ©a ENUM t·∫≠p trung gi√∫p d·ªÖ qu·∫£n l√Ω, t√°i s·ª≠ d·ª•ng v√† ƒë·∫£m b·∫£o t√≠nh nh·∫•t qu√°n.
    # TODO: Th√™m c√°c ENUM c·ª• th·ªÉ cho service c·ªßa b·∫°n.
    SortOrderEnum: # V√≠ d·ª•: ENUM cho th·ª© t·ª± s·∫Øp x·∫øp.
      type: string
      description: "Th·ª© t·ª± s·∫Øp x·∫øp: 'asc' (tƒÉng d·∫ßn) ho·∫∑c 'desc' (gi·∫£m d·∫ßn)."
      enum: [asc, desc]
      example: "desc"

    # TODO: Th√™m c√°c ENUM kh√°c nh∆∞ [MyResource]StatusEnum, [MyResource]SortByEnum, AuthProviderEnum (n·∫øu service c√≥ li√™n quan ƒë·∫øn user)...
    # V√≠ d·ª•:
    # OrderStatusEnum:
    #   type: string
    #   description: "Tr·∫°ng th√°i c·ªßa m·ªôt ƒë∆°n h√†ng."
    #   enum: [pending, processing, shipped, delivered, cancelled, refunded]
    #   example: "processing"
    # MyResourceSortByEnum:
    #   type: string
    #   description: "C√°c tr∆∞·ªùng c√≥ th·ªÉ d√πng ƒë·ªÉ s·∫Øp x·∫øp danh s√°ch [MyResource]."
    #   enum: [created_at, name, last_updated_at] # TODO: Thay b·∫±ng c√°c tr∆∞·ªùng th·ª±c t·∫ø.
    #   example: "created_at"

    # === Entity Schemas - ƒê·ªãnh nghƒ©a c√°c ƒë·ªëi t∆∞·ª£ng d·ªØ li·ªáu ch√≠nh c·ªßa service ===
    # L√ù GI·∫¢I:
    #   - N√™n c√≥ schema ri√™ng cho Request (v√≠ d·ª•: MyEntityCreateRequest, MyEntityUpdateRequest)
    #     v√† Response (v√≠ d·ª•: MyEntityResponse). ƒêi·ªÅu n√†y gi√∫p ki·ªÉm so√°t c√°c tr∆∞·ªùng readOnly, writeOnly
    #     v√† c√°c tr∆∞·ªùng b·∫Øt bu·ªôc m·ªôt c√°ch linh ho·∫°t.
    #   - C√°c schema Response cho m·ªôt ƒë·ªëi t∆∞·ª£ng ƒë∆°n l·∫ª n√™n ƒë∆∞·ª£c b·ªçc trong m·ªôt "Envelope"
    #     ƒë·ªÉ tu√¢n th·ªß ADR-012 (c√≥ data, meta, error).
    #   - C√°c schema Response cho danh s√°ch n√™n d√πng c·∫•u tr√∫c "Paginated" (c√≥ data l√† array v√† meta ch·ª©a th√¥ng tin pagination).

    # --- Schemas cho [RESOURCE_NAME_1] ---
    # TODO: Thay th·∫ø [RESOURCE_NAME_1] b·∫±ng t√™n t√†i nguy√™n th·ª±c t·∫ø (v√≠ d·ª•: UserGlobal, Tenant).

    [RESOURCE_NAME_1]Response: # Schema cho ƒë·ªëi t∆∞·ª£ng [RESOURCE_NAME_1] khi tr·∫£ v·ªÅ trong response.
      type: object
      description: "Th√¥ng tin chi ti·∫øt c·ªßa [RESOURCE_NAME_1]."
      # TODO: Li·ªát k√™ c√°c tr∆∞·ªùng b·∫Øt bu·ªôc cho response (n·∫øu c√≥).
      # required:
      #   - id
      #   - name
      properties:
        # TODO: ƒê·ªãnh nghƒ©a c√°c thu·ªôc t√≠nh c·ªßa [RESOURCE_NAME_1].
        id:
          type: string
          format: uuid # Ho·∫∑c integer, string t√πy theo ƒë·ªãnh nghƒ©a ID.
          description: "ID duy nh·∫•t c·ªßa [RESOURCE_NAME_1]."
          example: "123e4567-e89b-12d3-a456-426614174000"
          readOnly: true # ID th∆∞·ªùng do server sinh ra v√† kh√¥ng cho client thay ƒë·ªïi.
        name:
          type: string
          description: "T√™n c·ªßa [RESOURCE_NAME_1]."
          example: "T√™n t√†i nguy√™n m·∫´u"
        description:
          type: string
          nullable: true # Cho ph√©p tr∆∞·ªùng n√†y c√≥ gi√° tr·ªã null.
          description: "M√¥ t·∫£ chi ti·∫øt h∆°n v·ªÅ [RESOURCE_NAME_1]."
          example: "ƒê√¢y l√† m√¥ t·∫£ chi ti·∫øt cho t√†i nguy√™n m·∫´u."
        # TODO: Th√™m c√°c tr∆∞·ªùng kh√°c nh∆∞ status (tham chi·∫øu ENUM), timestamps, v.v.
        # V√≠ d·ª•:
        # status:
        #   $ref: '#/components/schemas/[MyResource]StatusEnum'
        created_at:
          type: string
          format: date-time
          description: "Th·ªùi gian t·∫°o t√†i nguy√™n (UTC)."
          readOnly: true
          example: "2025-06-01T12:00:00Z"
        updated_at:
          type: string
          format: date-time
          description: "Th·ªùi gian c·∫≠p nh·∫≠t cu·ªëi c√πng c·ªßa t√†i nguy√™n (UTC)."
          readOnly: true
          example: "2025-06-02T09:30:00Z"

    [RESOURCE_NAME_1]CreateRequest: # Schema cho request body khi t·∫°o m·ªõi [RESOURCE_NAME_1].
      type: object
      description: "D·ªØ li·ªáu c·∫ßn thi·∫øt ƒë·ªÉ t·∫°o m·ªõi m·ªôt [RESOURCE_NAME_1]."
      # TODO: Li·ªát k√™ c√°c tr∆∞·ªùng b·∫Øt bu·ªôc khi t·∫°o m·ªõi.
      required:
        - name
        # - other_required_field
      properties:
        # TODO: ƒê·ªãnh nghƒ©a c√°c thu·ªôc t√≠nh cho ph√©p client g·ª≠i l√™n khi t·∫°o.
        # Kh√¥ng bao g·ªìm c√°c tr∆∞·ªùng readOnly nh∆∞ id, created_at, updated_at.
        name:
          type: string
          description: "T√™n c·ªßa [RESOURCE_NAME_1]."
          example: "T√™n t√†i nguy√™n m·ªõi"
          minLength: 3 # (T√πy ch·ªçn) V√≠ d·ª• r√†ng bu·ªôc.
          maxLength: 100
        description:
          type: string
          nullable: true
          description: "M√¥ t·∫£ chi ti·∫øt h∆°n v·ªÅ [RESOURCE_NAME_1]."
          example: "M√¥ t·∫£ cho t√†i nguy√™n m·ªõi."
        # TODO: Th√™m c√°c tr∆∞·ªùng kh√°c.

    [RESOURCE_NAME_1]UpdateRequest: # Schema cho request body khi c·∫≠p nh·∫≠t [RESOURCE_NAME_1].
      type: object
      description: "D·ªØ li·ªáu cho ph√©p c·∫≠p nh·∫≠t cho m·ªôt [RESOURCE_NAME_1] ƒë√£ t·ªìn t·∫°i. T·∫•t c·∫£ c√°c tr∆∞·ªùng th∆∞·ªùng l√† t√πy ch·ªçn (PATCH)."
      properties:
        # TODO: ƒê·ªãnh nghƒ©a c√°c thu·ªôc t√≠nh cho ph√©p client g·ª≠i l√™n khi c·∫≠p nh·∫≠t.
        # C√°c tr∆∞·ªùng ·ªü ƒë√¢y th∆∞·ªùng kh√¥ng c√≥ `required` (cho ph√©p c·∫≠p nh·∫≠t t·ª´ng ph·∫ßn).
        name:
          type: string
          description: "T√™n m·ªõi c·ªßa [RESOURCE_NAME_1]."
          example: "T√™n t√†i nguy√™n ƒë√£ c·∫≠p nh·∫≠t"
        description:
          type: string
          nullable: true
          description: "M√¥ t·∫£ m·ªõi cho [RESOURCE_NAME_1]."
          example: "M√¥ t·∫£ ƒë√£ ƒë∆∞·ª£c c·∫≠p nh·∫≠t."
        # TODO: Th√™m c√°c tr∆∞·ªùng kh√°c c√≥ th·ªÉ c·∫≠p nh·∫≠t.

    # --- Envelope Schemas (Tu√¢n th·ªß ADR-012) ---
    [RESOURCE_NAME_1]Envelope: # Schema bao b·ªçc cho response tr·∫£ v·ªÅ m·ªôt [RESOURCE_NAME_1] ƒë∆°n l·∫ª.
      type: object
      description: "C·∫•u tr√∫c response chu·∫©n khi tr·∫£ v·ªÅ m·ªôt [RESOURCE_NAME_1] ƒë∆°n l·∫ª."
      required: [data, meta] # `error` s·∫Ω l√† null trong tr∆∞·ªùng h·ª£p th√†nh c√¥ng.
      properties:
        data:
          $ref: '#/components/schemas/[RESOURCE_NAME_1]Response' # Tham chi·∫øu ƒë·∫øn schema c·ªßa ƒë·ªëi t∆∞·ª£ng d·ªØ li·ªáu.
        meta:
          $ref: '#/components/schemas/ResponseMeta'
        error: # Lu√¥n c√≥ tr∆∞·ªùng error, nh∆∞ng gi√° tr·ªã l√† null n·∫øu th√†nh c√¥ng.
          type: object
          nullable: true
          description: "S·∫Ω l√† `null` n·∫øu request th√†nh c√¥ng."
          example: null # Minh h·ªça tr∆∞·ªùng h·ª£p th√†nh c√¥ng.
      example: # V√≠ d·ª• cho m·ªôt response th√†nh c√¥ng ho√†n ch·ªânh.
        data:
          id: "123e4567-e89b-12d3-a456-426614174000"
          name: "T√™n t√†i nguy√™n m·∫´u"
          description: "ƒê√¢y l√† m√¥ t·∫£ chi ti·∫øt cho t√†i nguy√™n m·∫´u."
          created_at: "2025-06-01T12:00:00Z"
          updated_at: "2025-06-02T09:30:00Z"
        meta:
          request_id: "req-single-item-123"
          timestamp: "2025-06-02T09:31:00Z"
        error: null

    Paginated[RESOURCE_NAME_1]s: # Schema bao b·ªçc cho response tr·∫£ v·ªÅ danh s√°ch [RESOURCE_NAME_1] c√≥ ph√¢n trang.
      type: object
      description: "C·∫•u tr√∫c response chu·∫©n khi tr·∫£ v·ªÅ danh s√°ch [RESOURCE_NAME_1] c√≥ ph√¢n trang."
      required: [data, meta] # `error` s·∫Ω l√† null trong tr∆∞·ªùng h·ª£p th√†nh c√¥ng.
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/[RESOURCE_NAME_1]Response' # M·∫£ng c√°c ƒë·ªëi t∆∞·ª£ng d·ªØ li·ªáu.
          description: "Danh s√°ch c√°c [RESOURCE_NAME_1]."
        meta:
          $ref: '#/components/schemas/ResponseMeta' # Meta ch·ª©a th√¥ng tin pagination.
        error: # Lu√¥n c√≥ tr∆∞·ªùng error, nh∆∞ng gi√° tr·ªã l√† null n·∫øu th√†nh c√¥ng.
          type: object
          nullable: true
          description: "S·∫Ω l√† `null` n·∫øu request th√†nh c√¥ng."
          example: null # Minh h·ªça tr∆∞·ªùng h·ª£p th√†nh c√¥ng.
      example: # V√≠ d·ª• cho m·ªôt response danh s√°ch th√†nh c√¥ng ho√†n ch·ªânh.
        data:
          - id: "123e4567-e89b-12d3-a456-426614174000"
            name: "T√†i nguy√™n m·∫´u 1"
            created_at: "2025-06-01T12:00:00Z"
            updated_at: "2025-06-02T09:30:00Z"
          - id: "987e6543-e21b-32d1-b098-987654321000"
            name: "T√†i nguy√™n m·∫´u 2"
            created_at: "2025-06-02T10:00:00Z"
            updated_at: "2025-06-02T11:00:00Z"
        meta:
          request_id: "req-list-items-456"
          timestamp: "2025-06-02T11:01:00Z"
          page: 1
          per_page: 2
          total_items: 2
          total_pages: 1
        error: null

    # TODO: L·∫∑p l·∫°i vi·ªác ƒë·ªãnh nghƒ©a c√°c schema ...Response, ...CreateRequest, ...UpdateRequest, ...Envelope, Paginated...
    # cho c√°c t√†i nguy√™n kh√°c c·ªßa service b·∫°n (v√≠ d·ª•: [RESOURCE_NAME_2], [RESOURCE_NAME_3], ...).

  responses: # TODO: ƒê·ªãnh nghƒ©a c√°c global responses ƒë·ªÉ t√°i s·ª≠ d·ª•ng (v√≠ d·ª•: c√°c l·ªói chung).
    # L√ù GI·∫¢I: ƒê·ªãnh nghƒ©a c√°c response l·ªói chung ·ªü ƒë√¢y gi√∫p b·∫°n d·ªÖ d√†ng tham chi·∫øu `$ref`
    # trong ph·∫ßn `responses` c·ªßa t·ª´ng operation, ƒë·∫£m b·∫£o t√≠nh nh·∫•t qu√°n.
    BadRequestError: # T√™n n√†y ƒë∆∞·ª£c d√πng ƒë·ªÉ tham chi·∫øu b·∫±ng $ref.
      description: "L·ªói Y√™u c·∫ßu kh√¥ng h·ª£p l·ªá (Bad Request - 400). D·ªØ li·ªáu ƒë·∫ßu v√†o t·ª´ client kh√¥ng ƒë√∫ng ƒë·ªãnh d·∫°ng, thi·∫øu th√¥ng tin b·∫Øt bu·ªôc, ho·∫∑c vi ph·∫°m c√°c r√†ng bu·ªôc nghi·ªáp v·ª•."
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorEnvelope' # Lu√¥n d√πng ErrorEnvelope chu·∫©n.
            example: # V√≠ d·ª• c·ª• th·ªÉ cho l·ªói BadRequest
              meta:
                request_id: "req-badreq-123"
                timestamp: "2025-06-02T14:40:00Z"
              error:
                code: "INVALID_INPUT"
                message: "D·ªØ li·ªáu ƒë·∫ßu v√†o kh√¥ng h·ª£p l·ªá."
                details: [{ "field": "email", "issue": "ƒê·ªãa ch·ªâ email kh√¥ng ƒë√∫ng ƒë·ªãnh d·∫°ng." }]
              data: null

    UnauthorizedError:
      description: "L·ªói Ch∆∞a x√°c th·ª±c (Unauthorized - 401). Client ch∆∞a cung c·∫•p th√¥ng tin x√°c th·ª±c h·ª£p l·ªá (v√≠ d·ª•: thi·∫øu JWT, JWT sai ho·∫∑c h·∫øt h·∫°n)."
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorEnvelope'
            example:
              meta:
                request_id: "req-unauth-456"
                timestamp: "2025-06-02T14:45:00Z"
              error:
                code: "UNAUTHENTICATED"
                message: "Y√™u c·∫ßu c·∫ßn th√¥ng tin x√°c th·ª±c."
              data: null

    ForbiddenError:
      description: "L·ªói Kh√¥ng c√≥ quy·ªÅn (Forbidden - 403). Client ƒë√£ x√°c th·ª±c th√†nh c√¥ng nh∆∞ng kh√¥ng c√≥ ƒë·ªß quy·ªÅn ƒë·ªÉ truy c·∫≠p t√†i nguy√™n ho·∫∑c th·ª±c hi·ªán h√†nh ƒë·ªông n√†y."
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorEnvelope'
            example:
              meta:
                request_id: "req-forbid-789"
                timestamp: "2025-06-02T14:50:00Z"
              error:
                code: "FORBIDDEN_ACCESS"
                message: "Kh√¥ng c√≥ quy·ªÅn th·ª±c hi·ªán h√†nh ƒë·ªông n√†y."
              data: null

    NotFoundError:
      description: "L·ªói Kh√¥ng t√¨m th·∫•y (Not Found - 404). T√†i nguy√™n ƒë∆∞·ª£c y√™u c·∫ßu kh√¥ng t·ªìn t·∫°i tr√™n server."
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorEnvelope'
            example:
              meta:
                request_id: "req-notfound-012"
                timestamp: "2025-06-02T14:55:00Z"
              error:
                code: "RESOURCE_NOT_FOUND"
                message: "Kh√¥ng t√¨m th·∫•y t√†i nguy√™n b·∫°n y√™u c·∫ßu."
                details: { "resource_type": "[ResourceType]", "resource_id": "[specific_id]" }
              data: null

    ConflictError:
      description: "L·ªói Xung ƒë·ªôt (Conflict - 409). Y√™u c·∫ßu kh√¥ng th·ªÉ ƒë∆∞·ª£c x·ª≠ l√Ω do xung ƒë·ªôt v·ªõi tr·∫°ng th√°i hi·ªán t·∫°i c·ªßa t√†i nguy√™n (v√≠ d·ª•: c·ªë g·∫Øng t·∫°o m·ªôt t√†i nguy√™n ƒë√£ t·ªìn t·∫°i v·ªõi ID duy nh·∫•t, ho·∫∑c m·ªôt h√†nh ƒë·ªông vi ph·∫°m r√†ng bu·ªôc nghi·ªáp v·ª•)."
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorEnvelope'
            example:
              meta:
                request_id: "req-conflict-345"
                timestamp: "2025-06-02T15:00:00Z"
              error:
                code: "RESOURCE_CONFLICT"
                message: "T√†i nguy√™n ƒë√£ t·ªìn t·∫°i ho·∫∑c c√≥ xung ƒë·ªôt d·ªØ li·ªáu."
                details: { "conflicting_field": "email", "value": "user@example.com" }
              data: null

    InternalServerError:
      description: "L·ªói H·ªá th·ªëng N·ªôi b·ªô (Internal Server Error - 500). M·ªôt l·ªói kh√¥ng mong mu·ªën ƒë√£ x·∫£y ra ·ªü ph√≠a server. Client kh√¥ng n√™n th·ª≠ l·∫°i ngay l·∫≠p t·ª©c m√† kh√¥ng c√≥ thay ƒë·ªïi."
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorEnvelope'
            example:
              meta:
                request_id: "req-servererr-678"
                timestamp: "2025-06-02T15:05:00Z"
              error:
                code: "INTERNAL_SERVER_ERROR"
                message: "ƒê√£ c√≥ l·ªói x·∫£y ra ·ªü ph√≠a m√°y ch·ªß. Vui l√≤ng th·ª≠ l·∫°i sau."
              data: null

# ===================================================================
#  Paths - ƒê·ªãnh nghƒ©a c√°c API endpoints
# ===================================================================
paths:
  # --- API Group for [RESOURCE_NAME_1] ---
  # TODO: Thay th·∫ø b·∫±ng path th·ª±c t·∫ø c·ªßa b·∫°n, v√≠ d·ª•: /users, /orders
  /[resource-collection-name]:
    get:
      tags:
        - "[resource-group-1]" # TODO: S·ª≠ d·ª•ng tag ƒë√£ ƒë·ªãnh nghƒ©a.
      summary: "L·∫•y danh s√°ch c√°c [RESOURCE_NAME_1]" # TODO: M√¥ t·∫£ ng·∫Øn g·ªçn, v√≠ d·ª•: L·∫•y danh s√°ch ng∆∞·ªùi d√πng.
      description: |
        # TODO: M√¥ t·∫£ chi ti·∫øt h∆°n v·ªÅ API n√†y.
        # - M·ª•c ƒë√≠ch ch√≠nh c·ªßa API.
        # - C√°ch s·ª≠ d·ª•ng c√°c tham s·ªë query (pagination, filtering, sorting).
        # - C√°c tr∆∞·ªùng h·ª£p ƒë·∫∑c bi·ªát ho·∫∑c l∆∞u √Ω.
        Tr·∫£ v·ªÅ danh s√°ch c√°c `[RESOURCE_NAME_1]` c√≥ ph√¢n trang, h·ªó tr·ª£ t√¨m ki·∫øm v√† s·∫Øp x·∫øp.
      operationId: "list[ResourceName1]s" # TODO: (T√πy ch·ªçn) ID duy nh·∫•t cho operation, h·ªØu √≠ch cho code generation. V√≠ d·ª•: listUsers, getOrderById.
      x-required-permission: "[scope].read.[resource]" # TODO: Khai b√°o permission c·∫ßn thi·∫øt (n·∫øu c√≥). V√≠ d·ª•: superadmin.view_all_users.
      x-audit-action: "list_[resource_name_1]s" # TODO: (T√πy ch·ªçn) H√†nh ƒë·ªông audit t∆∞∆°ng ·ª©ng.
      parameters: # Danh s√°ch c√°c tham s·ªë cho operation n√†y.
        - $ref: '#/components/parameters/AuthorizationHeader' # Lu√¥n c·∫ßn n·∫øu API y√™u c·∫ßu x√°c th·ª±c.
        - $ref: '#/components/parameters/PageParam'
        - $ref: '#/components/parameters/LimitParam'
        - $ref: '#/components/parameters/SearchKeywordParam' # (T√πy ch·ªçn)
        # - $ref: '#/components/parameters/MyResourceSortByParam' # (T√πy ch·ªçn) Tham chi·∫øu ƒë·∫øn SortByParam c·ª• th·ªÉ.
        - $ref: '#/components/parameters/SortOrderParam' # (T√πy ch·ªçn)
        # TODO: Th√™m c√°c tham s·ªë query filter c·ª• th·ªÉ kh√°c n·∫øu c·∫ßn.
        # - name: status
        #   in: query
        #   description: "L·ªçc theo tr·∫°ng th√°i c·ªßa [RESOURCE_NAME_1]."
        #   required: false
        #   schema:
        #     $ref: '#/components/schemas/[MyResource]StatusEnum'
      responses:
        '200': # HTTP Status Code cho th√†nh c√¥ng.
          description: "Danh s√°ch [RESOURCE_NAME_1] ƒë∆∞·ª£c tr·∫£ v·ªÅ th√†nh c√¥ng." # M√¥ t·∫£ response.
          headers: # Khai b√°o c√°c response headers (n·∫øu c√≥).
            X-Request-ID:
              $ref: '#/components/headers/X-Request-ID' # Tham chi·∫øu ƒë·∫øn header ƒë√£ ƒë·ªãnh nghƒ©a.
          content:
            application/json: # Content type c·ªßa response.
              schema:
                $ref: '#/components/schemas/Paginated[RESOURCE_NAME_1]s' # Tham chi·∫øu ƒë·∫øn schema c·ªßa response body.
        # TODO: Tham chi·∫øu ƒë·∫øn c√°c global error responses ƒë√£ ƒë·ªãnh nghƒ©a.
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '500':
          $ref: '#/components/responses/InternalServerError'

    post:
      tags:
        - "[resource-group-1]"
      summary: "T·∫°o m·ªõi m·ªôt [RESOURCE_NAME_1]"
      description: |
        # TODO: M√¥ t·∫£ chi ti·∫øt h∆°n v·ªÅ API t·∫°o m·ªõi n√†y.
        # - C√°c r√†ng bu·ªôc ƒë·∫ßu v√†o quan tr·ªçng.
        # - H√†nh vi c·ªßa h·ªá th·ªëng sau khi t·∫°o th√†nh c√¥ng (v√≠ d·ª•: s·ª± ki·ªán ƒë∆∞·ª£c ph√°t ra).
        T·∫°o m·ªõi m·ªôt `[RESOURCE_NAME_1]`. Tr·∫£ v·ªÅ th√¥ng tin c·ªßa t√†i nguy√™n v·ª´a ƒë∆∞·ª£c t·∫°o.
      operationId: "create[ResourceName1]"
      x-required-permission: "[scope].create.[resource]" # TODO: Permission ƒë·ªÉ t·∫°o.
      x-audit-action: "create_[resource_name_1]" # TODO: H√†nh ƒë·ªông audit.
      x-emits-event: "[resource_name_1]_created" # TODO: (T√πy ch·ªçn) S·ª± ki·ªán ƒë∆∞·ª£c ph√°t ra.
      parameters:
        - $ref: '#/components/parameters/AuthorizationHeader'
      requestBody:
        description: "D·ªØ li·ªáu c·∫ßn thi·∫øt ƒë·ªÉ t·∫°o [RESOURCE_NAME_1]."
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/[RESOURCE_NAME_1]CreateRequest' # Tham chi·∫øu ƒë·∫øn schema request body.
            example: # V√≠ d·ª• cho request body.
              name: "T√™n t√†i nguy√™n m·ªõi"
              description: "M√¥ t·∫£ cho t√†i nguy√™n m·ªõi."
              # ... (c√°c tr∆∞·ªùng kh√°c)
      responses:
        '201': # HTTP Status Code cho t·∫°o th√†nh c√¥ng.
          description: "[RESOURCE_NAME_1] ƒë∆∞·ª£c t·∫°o th√†nh c√¥ng."
          headers:
            X-Request-ID:
              $ref: '#/components/headers/X-Request-ID'
            Location: # (T√πy ch·ªçn) Header Location tr·ªè ƒë·∫øn t√†i nguy√™n v·ª´a t·∫°o.
              description: "URL c·ªßa t√†i nguy√™n v·ª´a ƒë∆∞·ª£c t·∫°o."
              schema:
                type: string
                format: url
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/[RESOURCE_NAME_1]Envelope' # Tr·∫£ v·ªÅ t√†i nguy√™n v·ª´a t·∫°o, b·ªçc trong Envelope.
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '409': # (T√πy ch·ªçn) N·∫øu c√≥ th·ªÉ x·∫£y ra xung ƒë·ªôt (v√≠ d·ª•: t·∫°o t√†i nguy√™n v·ªõi ID ƒë√£ t·ªìn t·∫°i).
          $ref: '#/components/responses/ConflictError'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /[resource-collection-name]/{resource_id}:
    # L√ù GI·∫¢I:
    #   ƒê√¢y l√† path cho c√°c operation li√™n quan ƒë·∫øn m·ªôt t√†i nguy√™n c·ª• th·ªÉ,
    #   ƒë∆∞·ª£c x√°c ƒë·ªãnh b·∫±ng `resource_id` (path parameter).
    parameters: # C√°c path parameters ƒë∆∞·ª£c ƒë·ªãnh nghƒ©a ·ªü m·ª©c path n√†y s·∫Ω √°p d·ª•ng cho t·∫•t c·∫£ operations b√™n d∆∞·ªõi.
      - name: resource_id # T√™n c·ªßa path parameter.
        in: path # V·ªã tr√≠ l√† 'path'.
        required: true # Path parameter lu√¥n l√† b·∫Øt bu·ªôc.
        description: "ID duy nh·∫•t c·ªßa [RESOURCE_NAME_1]." # TODO: M√¥ t·∫£.
        schema:
          type: string # TODO: Ki·ªÉu d·ªØ li·ªáu c·ªßa ID (string, integer, uuid).
          format: uuid # (T√πy ch·ªçn) Format c·ª• th·ªÉ.
        example: "123e4567-e89b-12d3-a456-426614174000" # TODO: V√≠ d·ª• ID.

    get:
      tags:
        - "[resource-group-1]"
      summary: "L·∫•y th√¥ng tin chi ti·∫øt c·ªßa m·ªôt [RESOURCE_NAME_1]"
      description: |
        # TODO: M√¥ t·∫£ chi ti·∫øt.
        Tr·∫£ v·ªÅ th√¥ng tin chi ti·∫øt c·ªßa `[RESOURCE_NAME_1]` d·ª±a tr√™n `resource_id` ƒë∆∞·ª£c cung c·∫•p.
      operationId: "get[ResourceName1]ById"
      x-required-permission: "[scope].read.[resource]" # TODO: Permission ƒë·ªÉ xem.
      x-audit-action: "get_[resource_name_1]_by_id" # TODO: H√†nh ƒë·ªông audit.
      parameters:
        - $ref: '#/components/parameters/AuthorizationHeader'
      responses:
        '200':
          description: "Th√¥ng tin chi ti·∫øt c·ªßa [RESOURCE_NAME_1]."
          headers:
            X-Request-ID:
              $ref: '#/components/headers/X-Request-ID'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/[RESOURCE_NAME_1]Envelope' # Tr·∫£ v·ªÅ t√†i nguy√™n, b·ªçc trong Envelope.
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '404': # (Quan tr·ªçng) Tr·∫£ v·ªÅ 404 n·∫øu kh√¥ng t√¨m th·∫•y t√†i nguy√™n.
          $ref: '#/components/responses/NotFoundError'
        '500':
          $ref: '#/components/responses/InternalServerError'

    patch: # Ho·∫∑c PUT n·∫øu b·∫°n mu·ªën c·∫≠p nh·∫≠t to√†n b·ªô t√†i nguy√™n. PATCH cho c·∫≠p nh·∫≠t t·ª´ng ph·∫ßn.
      tags:
        - "[resource-group-1]"
      summary: "C·∫≠p nh·∫≠t th√¥ng tin c·ªßa m·ªôt [RESOURCE_NAME_1]"
      description: |
        # TODO: M√¥ t·∫£ chi ti·∫øt.
        C·∫≠p nh·∫≠t m·ªôt ph·∫ßn ho·∫∑c to√†n b·ªô th√¥ng tin c·ªßa `[RESOURCE_NAME_1]` ƒë√£ t·ªìn t·∫°i.
        Ch·ªâ c√°c tr∆∞·ªùng ƒë∆∞·ª£c cung c·∫•p trong request body s·∫Ω ƒë∆∞·ª£c c·∫≠p nh·∫≠t.
      operationId: "update[ResourceName1]"
      x-required-permission: "[scope].update.[resource]" # TODO: Permission ƒë·ªÉ c·∫≠p nh·∫≠t.
      x-audit-action: "update_[resource_name_1]" # TODO: H√†nh ƒë·ªông audit.
      x-emits-event: "[resource_name_1]_updated" # TODO: (T√πy ch·ªçn) S·ª± ki·ªán ƒë∆∞·ª£c ph√°t ra.
      parameters:
        - $ref: '#/components/parameters/AuthorizationHeader'
      requestBody:
        description: "D·ªØ li·ªáu c·∫ßn c·∫≠p nh·∫≠t cho [RESOURCE_NAME_1]."
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/[RESOURCE_NAME_1]UpdateRequest' # Tham chi·∫øu ƒë·∫øn schema request body cho update.
            example: # V√≠ d·ª• cho request body.
              description: "M√¥ t·∫£ ƒë√£ ƒë∆∞·ª£c c·∫≠p nh·∫≠t ho√†n to√†n."
              # ... (c√°c tr∆∞·ªùng kh√°c c√≥ th·ªÉ c·∫≠p nh·∫≠t)
      responses:
        '200': # Ho·∫∑c '204 No Content' n·∫øu API kh√¥ng tr·∫£ v·ªÅ n·ªôi dung sau khi c·∫≠p nh·∫≠t th√†nh c√¥ng (theo ADR c·ªßa b·∫°n).
          description: "[RESOURCE_NAME_1] ƒë∆∞·ª£c c·∫≠p nh·∫≠t th√†nh c√¥ng."
          headers:
            X-Request-ID:
              $ref: '#/components/headers/X-Request-ID'
          content:
            application/json: # N·∫øu tr·∫£ v·ªÅ ƒë·ªëi t∆∞·ª£ng ƒë√£ c·∫≠p nh·∫≠t.
              schema:
                $ref: '#/components/schemas/[RESOURCE_NAME_1]Envelope' # Tr·∫£ v·ªÅ t√†i nguy√™n ƒë√£ c·∫≠p nh·∫≠t, b·ªçc trong Envelope.
        # '204': # N·∫øu API kh√¥ng tr·∫£ v·ªÅ n·ªôi dung.
        #   description: "[RESOURCE_NAME_1] ƒë∆∞·ª£c c·∫≠p nh·∫≠t th√†nh c√¥ng. Kh√¥ng c√≥ n·ªôi dung tr·∫£ v·ªÅ."
        #   headers:
        #     X-Request-ID:
        #       $ref: '#/components/headers/X-Request-ID'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '409': # (T√πy ch·ªçn) N·∫øu c√≥ th·ªÉ x·∫£y ra xung ƒë·ªôt khi c·∫≠p nh·∫≠t.
          $ref: '#/components/responses/ConflictError'
        '500':
          $ref: '#/components/responses/InternalServerError'

    delete:
      tags:
        - "[resource-group-1]"
      summary: "X√≥a m·ªôt [RESOURCE_NAME_1]"
      description: |
        # TODO: M√¥ t·∫£ chi ti·∫øt.
        # - H√†nh vi x√≥a l√† soft delete hay hard delete? (Tham chi·∫øu ADR-026).
        # - C√°c t√°c ƒë·ªông ph·ª• (v√≠ d·ª•: c√°c t√†i nguy√™n li√™n quan c√≥ b·ªã x√≥a theo kh√¥ng?).
        X√≥a `[RESOURCE_NAME_1]` d·ª±a tr√™n `resource_id`.
      operationId: "delete[ResourceName1]"
      x-required-permission: "[scope].delete.[resource]" # TODO: Permission ƒë·ªÉ x√≥a.
      x-audit-action: "delete_[resource_name_1]" # TODO: H√†nh ƒë·ªông audit.
      x-emits-event: "[resource_name_1]_deleted" # TODO: (T√πy ch·ªçn) S·ª± ki·ªán ƒë∆∞·ª£c ph√°t ra.
      parameters:
        - $ref: '#/components/parameters/AuthorizationHeader'
      responses:
        '204': # Th∆∞·ªùng d√πng cho DELETE th√†nh c√¥ng.
          description: "[RESOURCE_NAME_1] ƒë∆∞·ª£c x√≥a th√†nh c√¥ng. Kh√¥ng c√≥ n·ªôi dung tr·∫£ v·ªÅ."
          headers:
            X-Request-ID:
              $ref: '#/components/headers/X-Request-ID'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '500':
          $ref: '#/components/responses/InternalServerError'

  # TODO: Th√™m c√°c paths v√† operations kh√°c cho service c·ªßa b·∫°n.
  # V√≠ d·ª•: C√°c API ƒë·∫∑c th√π cho t·ª´ng resource (v√≠ d·ª•: /users/{user_id}/activate)
  # /users-global/{user_id}/status:
  #   patch:
  #     summary: C·∫≠p nh·∫≠t tr·∫°ng th√°i ho·∫°t ƒë·ªông c·ªßa ng∆∞·ªùi d√πng to√†n c·ª•c
  #     ... (nh∆∞ trong file User Service Master ƒë√£ l√†m r·∫•t t·ªët)

  # TODO: N·∫øu service c·ªßa b·∫°n c√≥ c√°c endpoint cho RBAC templates (gi·ªëng User Service Master)
  # th√¨ c√≥ th·ªÉ tham kh·∫£o c·∫•u tr√∫c c·ªßa User Service Master openapi.yaml.
  # /rbac/templates/roles:
  #   get: ...
  #   post: ...
  # /rbac/templates/roles/{template_id}:
  #   get: ...
  #   patch: ...
  #   delete: ...
  # (T∆∞∆°ng t·ª± cho permissions)

# ===================================================================
# K·∫øt th√∫c Template
# ===================================================================